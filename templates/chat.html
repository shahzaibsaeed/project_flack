<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Flack</title>
  </head>
  <body>

    <!-- navigation bar -->
    <nav>
      <!-- welcome -->
      <h4>Welcome <span id="displayName"></span>
      </h4>

    </nav>

    <div id="main-section">
      <!-- channel section -->
      <nav id="sidebar">
        <input type="text" id="new-channel" placeholder="New Channel..." autocomplete="off">
        <button type="button" id="send-channel">SEND</button>
        <h4>CHANNELS</h4>
        <div id="display-channel-section">
          <!-- display existing channel -->
          {% for channel in channels %}
            <p class="select-channel" id="which">#{{ channel }}</p>
          {% endfor %}
        </div>
      </nav>

      <!-- message area -->
      <div id="rightside-pannel">
        <!-- display message -->
        <h4>Messages</h4>
        <h6>current channel <span id="currentChannel"></span></h6>
        <div id="display-message-section">
          <!-- display existing messages -->
          {% for i in range((messages['messages']|length)) %}
            <p>
              <span>{{ messages['displayName'][i] }}</span>
              <br>
              {{ messages['messages'][i] }}
              <br>
              <span>{{ messages['timeStamp'][i] }}</span>
              <hr>
            </p>
          {% endfor %}
        </div>
        <div id="input-area">
          <input type="text" id="user-message" placeholder="Type here..." autocomplete="off" autofocus>
          <button type="button" id="send-message">SEND</button>
        </div>
      </div>
    </div>

    <!-- Custom socketio JS -->
    <script type="text/javascript" src="{{url_for('static', filename='script/chat_page.js')}}">
    </script>
    <script type="text/javascript" src="{{url_for('static', filename='script/flack.js')}}">
    </script>
    <!-- socketio JS -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>

  </body>
</html>
